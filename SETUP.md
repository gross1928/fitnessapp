# Быстрая настройка базы данных

## Шаг 1: Применение основной схемы

1. Откройте ваш проект Supabase: https://app.supabase.com/
2. Перейдите в "SQL Editor"
3. Создайте новый запрос
4. Скопируйте **весь содержимый** файла `supabase.md` и вставьте в редактор
5. Нажмите "Run" для выполнения

## Шаг 2: Добавление таблиц предпочтений

1. Создайте еще один новый запрос в SQL Editor
2. Скопируйте содержимый файла `supabase/schema.sql` и вставьте в редактор
3. Нажмите "Run" для выполнения

## Проверка установки

После выполнения обоих SQL-скриптов у вас должны появиться следующие таблицы:

### Основные таблицы:
- ✅ `users` - Профили пользователей
- ✅ `meal_entries` - Записи приемов пищи
- ✅ `water_entries` - Записи потребления воды
- ✅ `weight_entries` - Записи веса
- ✅ `health_analyses` - Анализы здоровья
- ✅ `chat_messages` - Сообщения чата

### Таблицы планов:
- ✅ `user_workout_plans` - Планы тренировок
- ✅ `user_nutrition_plans` - Планы питания
- ✅ `user_workout_preferences` - Предпочтения тренировок
- ✅ `user_nutrition_preferences` - Предпочтения питания

### Дополнительные таблицы:
- ✅ `food_items` - Продукты питания
- ✅ `food_analysis` - Анализ фотографий еды

## Если что-то пошло не так

### Ошибка "relation already exists"
Это нормально - таблицы уже существуют. Можно игнорировать.

### Ошибка "function does not exist"
Убедитесь, что выполнили **оба** SQL-скрипта по порядку.

### Ошибка "permission denied"
Проверьте, что используете правильный проект Supabase и у вас есть права администратора.

## Следующие шаги

После успешного применения схемы:

1. Настройте переменные окружения в `.env.local`
2. Запустите приложение: `npm run dev`
3. Протестируйте функциональность планов

## Поддержка

Если у вас возникли проблемы, проверьте:
- Логи в консоли браузера
- Логи в Supabase Dashboard → Logs
- Правильность переменных окружения 